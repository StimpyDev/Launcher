<?xml version="1.0" encoding="utf-8"?>
<Window
    xmlns="https://github.com/avaloniaui"
    xmlns:c="using:Launcher.Converters"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:m="using:Launcher.Models"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm="using:Launcher.ViewModels"
	xmlns:avalonia="clr-namespace:Avalonia.Controls;assembly=Avalonia.Controls"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    mc:Ignorable="d"
    d:DesignWidth="400"
    d:DesignHeight="180"
    x:DataType="vm:Settings"
    x:Class="Launcher.Views.Settings"
    Icon="/App.ico"
    CanResize="False"
    WindowStartupLocation="CenterScreen"
    Title="{DynamicResource Text.Settings}"
    Background="{StaticResource Color.Window}"
    Width="400"
    Height="250"
    MinWidth="450"
    MinHeight="250">

	<TabControl>
		<TabItem>
			<TabItem.Header>
				<TextBlock Text="{DynamicResource Text.Settings.General}" />
			</TabItem.Header>
			<Grid Margin="10" RowDefinitions="30,30,30,30" ColumnDefinitions="Auto,*">
				<!-- Discord Activity Checkbox -->
				<CheckBox
                    Content="{DynamicResource Text.Settings.General.DiscordActivity}"
                    IsChecked="{Binding DiscordActivity, Mode=TwoWay}" />

				<!-- Parallel Download Checkbox -->
				<CheckBox
                    Grid.Row="1"
                    avalonia:ToolTip.Tip="{DynamicResource Text.Settings.General.ParallelDownload.Tooltip}"
                    Content="{DynamicResource Text.Settings.General.ParallelDownload}"
                    IsChecked="{Binding ParallelDownload, Mode=TwoWay}" />

				<!-- Locale Label -->
				<TextBlock
                    Grid.Row="2"
                    Text="{DynamicResource Text.Settings.General.Locale}"
                    FontSize="12" />

				<!-- Locale ComboBox -->
				<ComboBox
                    Grid.Row="3"
                    MinHeight="31"
                    Padding="8,0"
                    HorizontalAlignment="Stretch"
                    Margin="50,7,0,7"
                    ItemsSource="{Binding Source={x:Static m:Locale.Supported}}"
                    DisplayMemberBinding="{Binding Name, x:DataType=m:Locale}"
                    SelectedItem="{Binding Locale, Mode=TwoWay, Converter={x:Static c:StringConverter.ToLocale}}" />

				<!-- Log Button -->
				<Button
                    Grid.Row="3"
                    Classes="flat primary"
                    FontFamily="{StaticResource FontDefault}"
                    Command="{Binding OpenLogsCommand}"
                    IsVisible="{Binding $parent[Window].((vm:Main)DataContext).ActiveServer, Converter={x:Static ObjectConverters.IsNull}}">
					<Button.Background>
						<LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
							<GradientStop Color="#687AA7" Offset="0" />
							<GradientStop Color="#3C4C74" Offset="0.8" />
						</LinearGradientBrush>
					</Button.Background>
					<TextBlock Text="{StaticResource Text.Logs}" />
				</Button>
			</Grid>
		</TabItem>
	</TabControl>
</Window>